{"version":3,"sources":["foobar/frontend/app.cljs"],"mappings":"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","names":["js/foobar","js/foobar.frontend","js/foobar.frontend.app","js/foobar.frontend.app.root","foobar.frontend.app/root","js/module$node_modules$react_dom$client.createRoot","js/document","js/foobar.frontend.app.match","foobar.frontend.app/match","reagent.core.atom","foobar.frontend.app/item-page","match","map__13757","cljs.core/--destructure-map","cljs.core.get","map__13758","path","query","id","foobar.frontend.app/home-page","reitit.frontend.easy.push_state","reitit.frontend.easy.replace_state","foobar.frontend.app/about-page","reitit.frontend.easy.href","foobar.frontend.app/navigation","cljs.core/deref","view","sb__5690__auto__","goog.string/StringBuffer","*print-newline*-orig-val__13759","cljs.core/*print-newline*","*print-fn*-orig-val__13760","cljs.core/*print-fn*","*print-newline*-temp-val__13761","*print-fn*-temp-val__13762","x__5691__auto__","fipp.edn.pprint","foobar.frontend.app/another-component","foobar.frontend.app/component","foobar.frontend.app/myroutes","cljs.core/int?","spec-tools.data-spec/opt","cljs.core/keyword?","foobar.frontend.app/my-expand","registry","data","opts","cljs.core/Keyword","G__13763","reitit.core/expand","cljs.core.assoc","foobar.frontend.app/init-routes","reitit.frontend.easy/start!","reitit.frontend.router","foobar.shared.routes/routes","reitit.coercion.spec/coercion","m","cljs.core/reset!","foobar.frontend.app/mount-root","reagent.core.as_element","foobar.frontend.app/init"],"sourcesContent":["(ns foobar.frontend.app\n  (:require [reagent.core :as r]\n            [reagent.dom :as rdom]\n            [\"react-dom/client\" :refer [createRoot]]\n            [spec-tools.data-spec :as ds]\n            [reitit.frontend :as rf]\n            [reitit.frontend.easy :as rfe]\n            [reitit.coercion.spec :as rcs]\n            [reitit.core :as ring-core]\n            [fipp.edn :as fedn]\n            [foobar.shared.routes :as routes]))\n\n(defonce root (createRoot (.getElementById js/document \"app\")))\n(defonce match (r/atom nil))\n\n(defn item-page [match]\n  (let [{:keys [path query]} (:parameters match)\n        {:keys [id]} path]\n    [:div\n     [:h2 \"Selected item \" id]\n     (if (:foo query)\n       [:p \"Optional foo query param: \" (:foo query)])]))\n\n(defn home-page []\n  [:div\n   [:h2 \"Welcome to frontend\"]\n\n   [:button\n    {:type \"button\"\n     :on-click #(rfe/push-state :item {:item-id 3})}\n    \"Item 3\"]\n\n   [:button\n    {:type \"button\"\n     :on-click #(rfe/replace-state :item {:item-id 4})}\n    \"Replace State Item 4\"]])\n\n(defn about-page []\n  [:div\n   [:h2 \"About frontend\"]\n   [:ul\n    [:li [:a {:href \"http://google.com\"} \"external link\"]]\n    [:li [:a {:href (rfe/href :foobar)} \"Missing route\"]]\n    [:li [:a {:href (rfe/href :item)} \"Missing route params\"]]]\n\n   [:div\n    {:content-editable true\n     :suppressContentEditableWarning true}\n    [:p \"Link inside contentEditable element is ignored.\"]\n    [:a {:href (rfe/href ::frontpage)} \"Link\"]]])\n\n(defn navigation []\n  [:div\n   [:ul\n    [:li [:a {:href (rfe/href :index)} \"Frontpage\"]]\n    [:li [:a {:href (rfe/href :about)} \"About\"]]\n    [:li [:a {:href (rfe/href :item {:item-id 1})} \"Item 1\"]]\n    [:li [:a {:href (rfe/href :item {:item-id 2} {:foo \"bar\"})} \"Item 2\"]]]\n   (if @match\n     (let [view (:view (:data @match))]\n       [view @match]))\n   [:pre (with-out-str (fedn/pprint @match))]])\n\n(defn another-component []\n  [:button.btn-primary.btn {:type \"button\"} \"Sign in\"])\n\n(defn component []\n  [:div\n   [:h1 \"Hello, World and Clojurians!\"]\n   [:h3 \"I am a component!\"]\n   [:p.someclass\n    \"I have \" [:strong \"bold\"]\n    [:span {:style {:color \"red\"}} \" and red\"]\n    \" text.\"]\n   [another-component]\n   [navigation]])\n\n(def myroutes\n  [[\"/\"\n    {:name :index\n     :view home-page}]\n\n   [\"/about\"\n    {:name :about\n     :view about-page}]\n\n   [\"/item/:id\"\n    {:name :item\n     :view item-page\n     :parameters {:path {:id int?}\n                  :query {(ds/opt :foo) keyword?}}}]])\n\n(defn my-expand [registry]\n  (fn [data opts]\n    (if (keyword? data)\n      (some-> data\n              registry\n              (ring-core/expand opts)\n              (assoc :name data))\n      (ring-core/expand data opts))))\n\n(defn init-routes []\n  (rfe/start!\n    (rf/router routes/routes {:data {:coercion rcs/coercion}\n                              :expand (my-expand\n                                        {:index {:view home-page}\n                                         :about {:view about-page}\n                                         :item {:view item-page}})})\n    (fn [m] (reset! match m))\n    ;; set to false to enable HistoryAPI\n    {:use-fragment false}))\n\n(defn mount-root []\n  (.render root (r/as-element [component])))\n\n(defn init []\n  (init-routes)\n  (mount-root))\n"]}